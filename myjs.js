let wHeight=window.innerHeight,wWidth=window.innerWidth,navbar=document.querySelector("nav"),navbarLogo=document.querySelector(".nav-logo"),headerLogo=document.querySelector(".header-logo"),seactionTesti=document.querySelector("section#testi"),seactionProduk=document.querySelector("section#produk"),seactionGaleri=document.querySelector("section#galeri"),messageImg=document.querySelectorAll(".testimoni-wraper img"),slider=document.querySelector(".slider-wraper"),btnSlider=document.querySelectorAll(".slider-wraper .btn"),tooltip=document.querySelector("section.produk .tooltip"),instafeed=document.querySelectorAll(".galeri-feed"),temporaryImg=document.querySelector(".temporary-img");function landingFocus(){window.scrollY>=10?navbar.classList.add("shadowOn"):navbar.classList.remove("shadowOn"),window.scrollY>=10?navbarLogo.classList.add("rise"):navbarLogo.classList.remove("rise"),window.scrollY<=seactionTesti.offsetTop-210?document.querySelector("a#hrefHome").classList.add("focus"):document.querySelector("a#hrefHome").classList.remove("focus"),window.scrollY>=seactionTesti.offsetTop-200&&window.scrollY<=seactionProduk.offsetTop-210?document.querySelector("a#hrefTesti").classList.add("focus"):document.querySelector("a#hrefTesti").classList.remove("focus"),window.scrollY>=seactionProduk.offsetTop-200&&window.scrollY<=seactionGaleri.offsetTop-210?document.querySelector("a#hrefProduk").classList.add("focus"):document.querySelector("a#hrefProduk").classList.remove("focus"),window.scrollY>=seactionGaleri.offsetTop-200?document.querySelector("a#hrefGaleri").classList.add("focus"):document.querySelector("a#hrefGaleri").classList.remove("focus"),window.scrollY>=seactionTesti.offsetTop-400&&messageImg.forEach((e,i)=>{setTimeout(()=>{e.classList.add("rise")},200*i)}),window.scrollY>=seactionTesti.offsetTop-400&&slider.classList.add("rise"),document.querySelectorAll(".card")&&window.scrollY>=seactionProduk.offsetTop-400&&document.querySelectorAll(".card").forEach((e,i)=>{setTimeout(()=>{e.classList.add("rise")},200*i)}),window.scrollY>=seactionGaleri.offsetTop-400&&instafeed.forEach(e=>e.classList.add("rise"))}window.addEventListener("load",(function(){setTimeout(()=>{document.querySelector("section.loading").style.display="none"},500),setTimeout(()=>{document.querySelector(".logo-wraper .five-start").classList.add("rise"),document.querySelector(".logo-wraper .start-seller").classList.add("rise"),document.body.style.overflow="auto"},500),fillCard()})),document.querySelectorAll("section").forEach(e=>{e.style.minHeight=wHeight+"px"}),document.querySelectorAll("a.link-scroll").forEach(trigger=>{trigger.onclick=function(e){e.preventDefault();let hash=this.getAttribute("href"),target,headerOffset=0,elementPosition,offsetPosition=document.querySelector(hash).offsetTop-0;window.scrollTo({top:offsetPosition})}}),landingFocus(),window.addEventListener("scroll",(function(e){landingFocus(),window.scrollY>=10?document.querySelector(".kontak button").classList.add("rise"):document.querySelector(".kontak button").classList.remove("rise")||document.querySelector(".kontak button").classList.remove("focus"),window.scrollY>=10?document.querySelector("nav ul"):document.querySelector("nav ul").classList.remove("down"),window.scrollY>=10?document.querySelector(".bg-kontak"):document.querySelector(".bg-kontak").classList.remove("rise"),window.scrollY>=10?document.querySelectorAll(".kontak a"):document.querySelectorAll(".kontak a").forEach(e=>e.classList.remove("rise"))}));let i=1;btnSlider.forEach(e=>e.addEventListener("click",(function(){e.classList.contains("laquo")&&(1==i&&(i=11),i--,document.querySelector(".slider-wraper img").setAttribute("src","img/testi"+i+".jpeg"),document.querySelector(".slider-wraper img").classList.add("rise"),setTimeout(()=>{document.querySelector(".slider-wraper img").classList.remove("rise")},300)),e.classList.contains("raquo")&&(10==i&&(i=0),i++,document.querySelector(".slider-wraper img").setAttribute("src","img/testi"+i+".jpeg"),document.querySelector(".slider-wraper img").classList.add("rise"),setTimeout(()=>{document.querySelector(".slider-wraper img").classList.remove("rise")},300))})));let j=1,imgTesti="",imgVarian="";for(j=1;j<=10;j++)imgTesti+=`<img src="img/testi.jpeg" width="100%" height="100%">`;function getProduk(){return fetch("produk.json").then(e=>e.json()).then(e=>e)}function updateCards(produk){let xx=produk.produk,cards="";xx.forEach(c=>{cards+=`<div class="card">\n            <div class="bground"></div>\n            <img src="img/${c.poster}/${c.poster}.png" loading="lazy" width="100%">\n            <div class="btn-detail" data-nama="${c.nama}">DETAIL</div>\n            </div>`,c.varian.forEach(e=>{imgVarian+=`<img src="img/${c.poster}/.png" loading="lazy" width="100%" height="100%">`})}),temporaryImg.innerHTML=imgTesti+imgVarian,document.querySelector(".produk-card").innerHTML=cards,document.querySelectorAll(".produk-card .card img").forEach((e,i)=>{i>0&&i<3&&e.setAttribute("width","66%")})}async function fillCard(){let produk;updateCards(await getProduk())}function updateDetail(nmProduk,produk){let xx=produk.produk,detail="";xx.forEach(c=>{c.nama==nmProduk&&(detail=`<div class="hero-img">\n                <div class="img-wraper">\n                    <img src="img/${c.poster}/${c.varian[0]}.png" loading="lazy" width="100%" class="hero">\n                </div>\n            </div>\n            <div class="hero-deskripsi">\n                <div>\n                    <h1>${c.nama}</h1>\n                    <h2><span>Rp</span>${c.harga}</h2>\n                    <h3>PILIH VARIAN :</h3>\n                    <div class="varian-box">\n                        ${c.varian.map(e=>`<button data-url="img/${c.poster}/.png" class="btn-varian"></button>`).join("")}\n                    </div>\n                    <h4>DESKRIPSI :</h4>\n                    <h5>${c.deskripsi}</h5>\n                    </div>\n                <div>\n                    <a href="" target="_blank" class="btn-pesan"><i class="fas fa-shopping-basket btn-pesan"></i> pesan</a>\n                </div>\n            </div>`,document.querySelector(".link-wraper").innerHTML=`\n            <a href="${c.shopee}" class="btn-link" id="Shopee">\n                <img src="img/shopee.png" loading="lazy" width="100%" alt="">\n            </a>\n            <a href="${c.tokopedia}" class="btn-link" id="Tokopedia">\n                <img src="img/tokopedia.png" loading="lazy" width="100%" alt="">\n            </a>\n            <a href="${c.wa}" class="btn-link" id="Whatsapp">\n                <img src="img/wa.png" loading="lazy" width="100%" alt="">\n            </a>`)}),document.querySelector(".detail-box").innerHTML=detail,document.querySelector("a.btn-pesan").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".beli-wraper").classList.add("rise")})),document.querySelectorAll("a.btn-link").forEach(trigger=>{trigger.onclick=function(e){e.preventDefault();let href=this.getAttribute("href"),where=this.getAttribute("id");"notfound"==href?(document.querySelector(".info-wraper").classList.add("rise"),document.querySelector(".info-wraper .where span").innerHTML=where):window.open(href,"_blank")}})}async function updateDetailBox(nmProduk){let produk;updateDetail(nmProduk,await getProduk())}temporaryImg.innerHTML=imgTesti,window.addEventListener("click",(function(e){e.target.classList.contains("burger-btn")?(document.querySelector("nav").classList.contains("shadowOn")?document.querySelector("nav").classList.add("shadowOn"):document.querySelector("nav").classList.toggle("shadowOn"),document.querySelectorAll("nav .burger-span img").forEach(e=>e.classList.toggle("active")),document.querySelector("nav ul").classList.toggle("down")):e.target.classList.contains("btn-kontak")?(document.body.style.overflow="hidden",document.querySelectorAll(".kontak a").forEach((e,i)=>{setTimeout(()=>{e.classList.toggle("rise")},100*i)}),document.querySelector(".bg-kontak").classList.toggle("rise"),document.querySelector(".kontak button").classList.toggle("focus")):e.target.classList.contains("btn-detail")?(updateDetailBox(e.target.dataset.nama),document.body.style.overflow="hidden",document.querySelector(".detail-box-wraper").classList.add("rise"),document.querySelector(".detail-box").classList.add("rise")):e.target.classList.contains("btn-varian")?(document.querySelector(".img-wraper img.hero").setAttribute("src",e.target.dataset.url),document.querySelector(".img-wraper img.hero").classList.add("fade"),setTimeout(()=>{document.querySelector(".img-wraper img.hero").classList.remove("fade")},300),document.querySelectorAll(".btn-varian").forEach(e=>{e.classList.contains("focus")&&e.classList.remove("focus")}),e.target.classList.add("focus")):(document.querySelector("nav ul").classList.contains("down")&&(document.querySelector("nav ul").classList.remove("down"),document.querySelectorAll("nav .burger-span img").forEach(e=>e.classList.remove("active"))),document.querySelector(".bg-kontak").classList.contains("rise")&&(document.body.style.overflow="auto",document.querySelector(".bg-kontak").classList.remove("rise"),document.querySelector(".kontak button").classList.remove("focus"),document.querySelectorAll(".kontak a").forEach((e,i)=>{setTimeout(()=>{e.classList.remove("rise")},100*i)})),e.target.classList.contains("detail-box-wraper")&&(document.body.style.overflow="auto",document.querySelector(".detail-box-wraper").classList.remove("rise"),document.querySelector(".detail-box").classList.remove("rise")),e.target.classList.contains("btn-close")&&e.target.parentElement.parentElement.parentElement.classList.remove("rise"))}));